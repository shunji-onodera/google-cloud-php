{"id":"core\/testing\/system\/systemtestcase","type":"","title":"Google\\Cloud\\Core\\Testing\\System\\SystemTestCase","name":"SystemTestCase","description":"<p>SystemTestCase can be extended to implement system tests<\/p>\n<p>Extends \\PHPUnit\\Framework\\Assert &raquo; \\PHPUnit\\Framework\\TestCase &raquo; \\Yoast\\PHPUnitPolyfills\\TestCases\\TestCase<\/p>\n<p>Implements <a href=\"https:\/\/php.net\/countable\" target=\"_blank\">Countable<\/a><\/p>","examples":[],"resources":[],"methods":[{"id":"setupQueue","type":"instance","name":"setupQueue","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L49","description":"<p>Set up the deletion queue<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"processQueue","type":"instance","name":"processQueue","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L62","description":"<p>Process the deletion queue<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"randId","type":"instance","name":"randId","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L75","description":"<p>Create a random integer ID for test entities.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"description":""}]},{"id":"createBucket","type":"instance","name":"createBucket","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L98","description":"<p>Create a bucket and enqueue it for deletion.<\/p>\n<p>This method provides a means of creating a bucket with pre-configured\nflush+delete functionality. Use in place of <code>StorageClient::createBucket()<\/code>.<\/p>\n<p>When inserting objects into a bucket created with this method, you do NOT need\nto enqueue those objects for deletion or concern yourself with order of\noperations.<\/p>","examples":[],"resources":[],"params":[{"name":"client","description":"","types":["<a data-custom-type=\"cloud-storage\/main\/storage\/storageclient\">Google\\Cloud\\Storage\\StorageClient<\/a>"],"optional":false,"nullable":null},{"name":"bucketName","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/main\/storage\/bucket\">Google\\Cloud\\Storage\\Bucket<\/a>"],"description":""}]},{"id":"createDataset","type":"instance","name":"createDataset","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L135","description":"<p>Create a dataset and enqueue it for deletion.<\/p>\n<p>This method provides a means of creating a dataset with pre-configured\nflush+delete functionality. Use in place of <code>BigQueryClient::createDataset()<\/code>.<\/p>\n<p>When inserting tables into a dataset created with this method, you do NOT need\nto enqueue those tables for deletion or concern yourself with order of\noperations.<\/p>","examples":[],"resources":[],"params":[{"name":"client","description":"","types":["<a data-custom-type=\"cloud-bigquery\/main\/bigquery\/bigqueryclient\">Google\\Cloud\\BigQuery\\BigQueryClient<\/a>"],"optional":false,"nullable":null},{"name":"datasetName","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-bigquery\/main\/bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>"],"description":""}]},{"id":"createTopic","type":"instance","name":"createTopic","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L164","description":"<p>Create a topic and enqueue it for deletion.<\/p>\n<p>This method provides a means of creating a topic with pre-configured\nflush+delete functionality. Use in place of <code>PubSubClient::createTopic()<\/code>.<\/p>\n<p>When inserting subscriptions into a topic created with this method, you do NOT need\nto enqueue those subscriptions for deletion or concern yourself with order of\noperations.<\/p>","examples":[],"resources":[],"params":[{"name":"client","description":"","types":["<a data-custom-type=\"cloud-pubsub\/main\/pubsub\/pubsubclient\">Google\\Cloud\\PubSub\\PubSubClient<\/a>"],"optional":false,"nullable":null},{"name":"topicName","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-pubsub\/main\/pubsub\/topic\">Google\\Cloud\\PubSub\\Topic<\/a>"],"description":""}]},{"id":"setUsingEmulator","type":"instance","name":"setUsingEmulator","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L196","description":"<p>Set &quot;using emulator&quot; flag for single test case.<\/p>\n<p>Should be called in <code>setUpBeforeClass()<\/code> method. This will allow to\nskip tests that are not supported by emulator.<\/p>","examples":[{"caption":"","code":"self::setUsingEmulator(getenv('FOOBAR_EMULATOR_HOST'));"}],"resources":[],"params":[{"name":"enabled","description":"<p>Whether emulator is detected. <strong>Defaults to<\/strong> <code>true<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"setUsingEmulatorForClassPrefix","type":"instance","name":"setUsingEmulatorForClassPrefix","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L221","description":"<p>Set &quot;using emulator&quot; flag for test cases with specified fully-qualified name prefix.<\/p>\n<p>Should be called in <code>setUpBeforeClass()<\/code> method. This will allow to\nskip tests that are not supported by emulator.<\/p>","examples":[{"caption":"<p>Set flag for called class namespace.<\/p>","code":"self::setUsingEmulatorForClassPrefix(getenv('FOOBAR_EMULATOR_HOST'));"},{"caption":"<p>Set flag for some other namespace.<\/p>","code":"self::setUsingEmulatorForClassPrefix(getenv('FOOBAR_EMULATOR_HOST'), 'Foobar\\\\Tests\\\\System\\\\Admin\\\\');"}],"resources":[],"params":[{"name":"enabled","description":"<p>Whether emulator is detected. <strong>Defaults to<\/strong> <code>true<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null},{"name":"prefix","description":"<p>Fully-qualified class name prefix. <strong>Defaults to<\/strong> called class namespace.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"isEmulatorUsed","type":"instance","name":"isEmulatorUsed","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L244","description":"<p>Returns <code>true<\/code> when &quot;using emulator&quot; flag is set either for called class name or its\nfully-qualified name prefix or <code>false<\/code> otherwise.<\/p>","examples":[{"caption":"","code":"$transports = [['grpc']];\nif (!self::isEmulatorUsed()) {\n    $transports[] = ['rest'];\n}"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"skipIfEmulatorUsed","type":"instance","name":"skipIfEmulatorUsed","source":"Core\/src\/Testing\/System\/SystemTestCase.php#L278","description":"<p>Skips current test (when called from test method) or entire test case (when called from <code>setUpBeforeClass()<\/code>)\nif &quot;using emulator&quot; flag is set either for called class name or its fully-qualified name prefix.<\/p>","examples":[{"caption":"<p>Use default reason.<\/p>","code":"self::skipIfEmulatorUsed();"},{"caption":"<p>Use custom reason.<\/p>","code":"self::skipIfEmulatorUsed('Administration functions are not supported by emulator.');"}],"resources":[],"params":[{"name":"reason","description":"<p>Message explaining reason for skipping this test.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]}]}